{"ast":null,"code":"import _slicedToArray from\"/Users/avapezza/Desktop/personal-projects/AvaPortfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import contentData from\"../content.json\";import{Fade}from\"react-awesome-reveal\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var RepoStats=function RepoStats(){var _repoData$owner;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),repoData=_useState2[0],setRepoData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),hidden=_useState4[0],setHidden=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),totalCommits=_useState6[0],setTotalCommits=_useState6[1];useEffect(function(){// JSON API LINK MUST BE AN API LINK\n// AND NOT A REGULAR REPOSITORY GIT LINK\n// MAKE SURE REPO IS NOT PRIVATE\nvar apiUrl=contentData.repo_stats.api_link;fetch(apiUrl).then(function(response){if(!response.ok){throw new Error(\"Network response was not ok\");}return response.json();}).then(function(data){setRepoData(data);}).catch(function(error){console.error(\"Error fetching data:\",error);});// Fetch commit statistics\nfetch(apiUrl+\"/stats/participation\").then(function(response){if(!response.ok){throw new Error(\"Network response was not ok\");}return response.json();}).then(function(data){// Calculate the total number of commits\nvar commitCounts=data.all;var total=commitCounts.reduce(function(acc,count){return acc+count;},0);setTotalCommits(total);}).catch(function(error){console.error(\"Error fetching commit statistics:\",error);});// Event listener for scrolling\nwindow.addEventListener(\"scroll\",handleScroll);// Cleanup the event listener when the component unmounts\nreturn function(){window.removeEventListener(\"scroll\",handleScroll);};},[]);// Function to handle scroll behavior\nvar handleScroll=function handleScroll(){if(window.scrollY>100){setHidden(true);}else{setHidden(false);}};function commitUrl(input,attachment){return\"\".concat(input).concat(attachment);}var commit_link=commitUrl(contentData.repo_stats.repo_link,\"/commits/master\");var last_commit_link=commitUrl(contentData.repo_stats.repo_link,\"/commit\");return/*#__PURE__*/_jsx(\"div\",{className:\"repo-stats \".concat(hidden?\"hidden\":\"\"),children:/*#__PURE__*/_jsx(Fade,{direction:\"down\",triggerOnce:true,children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"a\",{href:contentData.repo_stats.repo_link,target:\"_blank\",rel:\"noreferrer\",children:[\"Repository Name: \",repoData.name]}),\" \",\"\\u2022\",\" \",/*#__PURE__*/_jsxs(\"a\",{href:contentData.general.navbar_social_links.github,target:\"_blank\",rel:\"noreferrer\",children:[\"Author: \",(_repoData$owner=repoData.owner)===null||_repoData$owner===void 0?void 0:_repoData$owner.login]}),\" \",\"\\u2022\",\" \",/*#__PURE__*/_jsxs(\"a\",{href:commit_link,target:\"_blank\",rel:\"noreferrer\",children:[\"Total Commits: \",totalCommits]}),\" \",\"\\u2022\",\" \",/*#__PURE__*/_jsxs(\"a\",{href:last_commit_link,target:\"_blank\",rel:\"noreferrer\",children:[\"Last Push: \",new Date(repoData.pushed_at).toLocaleString(),\" CST\"]})]})})});};export default RepoStats;","map":{"version":3,"names":["React","useState","useEffect","contentData","Fade","jsxs","_jsxs","jsx","_jsx","RepoStats","_repoData$owner","_useState","_useState2","_slicedToArray","repoData","setRepoData","_useState3","_useState4","hidden","setHidden","_useState5","_useState6","totalCommits","setTotalCommits","apiUrl","repo_stats","api_link","fetch","then","response","ok","Error","json","data","catch","error","console","commitCounts","all","total","reduce","acc","count","window","addEventListener","handleScroll","removeEventListener","scrollY","commitUrl","input","attachment","concat","commit_link","repo_link","last_commit_link","className","children","direction","triggerOnce","href","target","rel","name","general","navbar_social_links","github","owner","login","Date","pushed_at","toLocaleString"],"sources":["/Users/avapezza/Desktop/personal-projects/AvaPortfolio/src/components/RepoStats.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport contentData from \"../content.json\";\nimport { Fade } from \"react-awesome-reveal\";\n\nconst RepoStats = () => {\n  const [repoData, setRepoData] = useState({});\n  const [hidden, setHidden] = useState(false);\n  const [totalCommits, setTotalCommits] = useState(0);\n\n  useEffect(() => {\n    // JSON API LINK MUST BE AN API LINK\n    // AND NOT A REGULAR REPOSITORY GIT LINK\n    // MAKE SURE REPO IS NOT PRIVATE\n    const apiUrl = contentData.repo_stats.api_link;\n\n    fetch(apiUrl)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Network response was not ok\");\n        }\n        return response.json();\n      })\n      .then((data) => {\n        setRepoData(data);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching data:\", error);\n      });\n\n    // Fetch commit statistics\n    fetch(apiUrl + \"/stats/participation\")\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Network response was not ok\");\n        }\n        return response.json();\n      })\n      .then((data) => {\n        // Calculate the total number of commits\n        const commitCounts = data.all;\n        const total = commitCounts.reduce((acc, count) => acc + count, 0);\n        setTotalCommits(total);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching commit statistics:\", error);\n      });\n\n    // Event listener for scrolling\n    window.addEventListener(\"scroll\", handleScroll);\n\n    // Cleanup the event listener when the component unmounts\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n    };\n  }, []);\n\n  // Function to handle scroll behavior\n  const handleScroll = () => {\n    if (window.scrollY > 100) {\n      setHidden(true);\n    } else {\n      setHidden(false);\n    }\n  };\n\n  function commitUrl(input, attachment) {\n    return `${input}${attachment}`;\n  }\n\n  const commit_link = commitUrl(\n    contentData.repo_stats.repo_link,\n    \"/commits/master\"\n  );\n  const last_commit_link = commitUrl(\n    contentData.repo_stats.repo_link,\n    \"/commit\"\n  );\n\n  return (\n    <div className={`repo-stats ${hidden ? \"hidden\" : \"\"}`}>\n      <Fade direction=\"down\" triggerOnce={true}>\n        <p>\n          <a\n            href={contentData.repo_stats.repo_link}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Repository Name: {repoData.name}\n          </a>{\" \"}\n          •{\" \"}\n          <a\n            href={contentData.general.navbar_social_links.github}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Author: {repoData.owner?.login}\n          </a>{\" \"}\n          •{\" \"}\n          <a href={commit_link} target=\"_blank\" rel=\"noreferrer\">\n            Total Commits: {totalCommits}\n          </a>{\" \"}\n          •{\" \"}\n          <a href={last_commit_link} target=\"_blank\" rel=\"noreferrer\">\n            Last Push: {new Date(repoData.pushed_at).toLocaleString()} CST\n          </a>\n        </p>\n      </Fade>\n    </div>\n  );\n};\n\nexport default RepoStats;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}